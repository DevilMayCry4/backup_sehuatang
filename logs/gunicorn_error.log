[2025-08-04 01:14:56 +0000] [6564] [INFO] Starting gunicorn 23.0.0
[2025-08-04 01:14:56 +0000] [6564] [INFO] Listening at: http://127.0.0.1:8000 (6564)
[2025-08-04 01:14:56 +0000] [6564] [INFO] Using worker: sync
[2025-08-04 01:14:56 +0000] [6610] [INFO] Booting worker with pid: 6610
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
[2025-08-04 01:16:18 +0000] [6564] [INFO] Handling signal: int
[2025-08-04 01:16:18 +0000] [6610] [INFO] Worker exiting (pid: 6610)
[2025-08-04 01:16:19 +0000] [6564] [INFO] Shutting down: Master
[2025-08-04 01:16:32 +0000] [9126] [INFO] Starting gunicorn 23.0.0
[2025-08-04 01:16:32 +0000] [9126] [INFO] Listening at: http://127.0.0.1:8000 (9126)
[2025-08-04 01:16:32 +0000] [9126] [INFO] Using worker: sync
[2025-08-04 01:16:32 +0000] [9150] [INFO] Booting worker with pid: 9150
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
[2025-08-04 01:16:45 +0000] [9126] [INFO] Handling signal: int
[2025-08-04 01:16:45 +0000] [9150] [INFO] Worker exiting (pid: 9150)
[2025-08-04 01:16:45 +0000] [9126] [INFO] Shutting down: Master
[2025-08-04 01:18:42 +0000] [12381] [INFO] Starting gunicorn 23.0.0
[2025-08-04 01:18:42 +0000] [12381] [INFO] Listening at: http://0.0.0.0:5000 (12381)
[2025-08-04 01:18:42 +0000] [12381] [INFO] Using worker: sync
[2025-08-04 01:18:42 +0000] [12395] [INFO] Booting worker with pid: 12395
[2025-08-04 01:18:42 +0000] [12411] [INFO] Booting worker with pid: 12411
[2025-08-04 01:18:42 +0000] [12412] [INFO] Booting worker with pid: 12412
[2025-08-04 01:18:42 +0000] [12413] [INFO] Booting worker with pid: 12413
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
MongoDB连接成功
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
正在爬取第 1 页: https://www.javbus.com/series/2oe (尝试 1/3)
第 1 页找到 30 个电影项目
正在爬取第 2 页: https://www.javbus.com/series/2oe/2 (尝试 1/3)
第 2 页找到 30 个电影项目
正在爬取第 3 页: https://www.javbus.com/series/2oe/3 (尝试 1/3)
第 3 页找到 17 个电影项目
已到达最后一页
🎬 正在检查电影: 'MCSR-588'
==================================================
✅ 认证成功，用户ID: 55fbae280f594ac3b7e8f59ecc0d011d
📚 找到 1 个电影库
  - Jav (ID: 0459e2b2d3d2a225c244d365231f40c3)
🔍 在库 'Jav' 中搜索 'MCSR-588'...
[2025-08-04 01:19:50 +0000] [12381] [CRITICAL] WORKER TIMEOUT (pid:12411)
[2025-08-04 01:19:50 +0000] [12411] [ERROR] Error handling request /search
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/gunicorn/workers/sync.py", line 134, in handle
    self.handle_request(listener, req, client, addr)
  File "/usr/local/lib/python3.10/site-packages/gunicorn/workers/sync.py", line 177, in handle_request
    respiter = self.wsgi(environ, resp.start_response)
  File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 2213, in __call__
    return self.wsgi_app(environ, start_response)
  File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.10/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
  File "/root/backup_sehuatang/web/routes.py", line 69, in search_movie
    processed_movies = process_movie_search_results(movies, jellyfin_checker)
  File "/root/backup_sehuatang/web/movie_search.py", line 94, in process_movie_search_results
    jellyfin_result = jellyfin_checker.check_movie_exists(movie_code)
  File "/root/backup_sehuatang/jellyfin_movie_checker.py", line 261, in check_movie_exists
    movies = self.search_movies(movie_name)
  File "/root/backup_sehuatang/jellyfin_movie_checker.py", line 208, in search_movies
    response = self.session.get(search_url, headers=headers, params=params)
  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 602, in get
    return self.request("GET", url, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "/usr/local/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "/usr/local/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
    resp = conn.urlopen(
  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/usr/local/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/usr/local/lib/python3.10/site-packages/urllib3/connection.py", line 565, in getresponse
    httplib_response = super().getresponse()
  File "/usr/local/lib/python3.10/http/client.py", line 1368, in getresponse
    response.begin()
  File "/usr/local/lib/python3.10/http/client.py", line 317, in begin
    version, status, reason = self._read_status()
  File "/usr/local/lib/python3.10/http/client.py", line 278, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/usr/local/lib/python3.10/socket.py", line 705, in readinto
    return self._sock.recv_into(b)
  File "/usr/local/lib/python3.10/site-packages/gunicorn/workers/base.py", line 204, in handle_abort
    sys.exit(1)
SystemExit: 1
[2025-08-04 01:19:50 +0000] [12411] [INFO] Worker exiting (pid: 12411)
[2025-08-04 01:19:50 +0000] [14461] [INFO] Booting worker with pid: 14461
{'server_url': 'http://dudu213.duckdns.org:8096', 'username': '2', 'password': '2', 'client_name': 'Movie Checker', 'client_version': '1.0.0', 'search_limit': 50, 'timeout': 30}
MongoDB连接成功
MongoDB连接成功
Jellyfin检查器初始化成功
JavBus爬虫初始化成功
定时任务调度器已启动
[2025-08-04 01:20:33 +0000] [12381] [INFO] Handling signal: int
[2025-08-04 01:20:33 +0000] [12413] [INFO] Worker exiting (pid: 12413)
[2025-08-04 01:20:33 +0000] [14461] [INFO] Worker exiting (pid: 14461)
[2025-08-04 01:20:33 +0000] [12395] [INFO] Worker exiting (pid: 12395)
[2025-08-04 01:20:33 +0000] [12412] [INFO] Worker exiting (pid: 12412)
[2025-08-04 01:20:34 +0000] [12381] [INFO] Shutting down: Master
